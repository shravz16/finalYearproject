
# people graph
import networkx as nx
import os
import pandas
import PIL
import matplotlib.pyplot as plt
import pyodbc
class Nodes:
    def __init__(self):
        self.pid
        self.Name
        self.email
        self.age
        self.place
        self.interest=[]
	
graph=nx.Graph()
server = 'localhost'
database = 'social_network'
username = 'sa'
password = 'acies123'
cnxn = pyodbc.connect('DRIVER={ODBC Driver 17 for SQL Server};SERVER='+server+';DATABASE='+database+';UID='+username+';PWD='+ password)
cursor = cnxn.cursor()

#Select Query
# print ('Reading data from table')
# tsql = "SELECT uid FROM  [dbo].[user_details_table];"
# row=()
# with cursor.execute(tsql):
#     row = cursor.fetchall()

with open('tempnode.txt','r') as node:
    for val in node:
        graph.add_node(val)
        
with open("temp.txt",'r') as f:
    for val in f:
        # print(val)
        temp=val.split(" ")
        graph.add_edge(temp[0].strip(),temp[1].strip())
    f.close()

nx.draw(graph,with_labels= True)

plt.show()
# plt.savefig("pythongraph.jpg")
# graph.add_edge(203 ,218)
# graph.add_edge(203 ,217)
# graph.add_edge(203 ,209)
# graph.add_edge(203 ,216)
# graph.add_edge(220 ,213)
# graph.add_edge(220 ,211)
# graph.add_edge(220 ,213)
# graph.add_edge(220 ,205)
# graph.add_edge(220 ,216)
# graph.add_edge(220 ,206)
# graph.add_edge(204 ,211)
# graph.add_edge(204 ,217)
# graph.add_edge(204 ,215)
# graph.add_edge(204 ,208)
# graph.add_edge(204 ,214)
# graph.add_edge(204 ,201)
# graph.add_edge(204 ,212)
# graph.add_edge(204 ,206)
# graph.add_edge(211 ,204)
# graph.add_edge(211 ,217)
# graph.add_edge(211 ,215)
# graph.add_edge(211 ,220)
# graph.add_edge(211 ,213)
# graph.add_edge(211 ,205)
# graph.add_edge(211 ,210)
# graph.add_edge(211 ,205)
# graph.add_edge(217 ,204)
# graph.add_edge(217 ,211)
# graph.add_edge(217 ,215)
# graph.add_edge(217 ,203)
# graph.add_edge(217 ,214)
# graph.add_edge(217 ,213)
# graph.add_edge(210 ,207)
# graph.add_edge(210 ,211)
# graph.add_edge(210 ,205)
# graph.add_edge(210 ,202)
# graph.add_edge(210 ,207)
# graph.add_edge(210 ,219)
# graph.add_edge(207 ,202)
# graph.add_edge(207 ,219)
# graph.add_edge(207 ,218)
# graph.add_edge(207 ,210)
# graph.add_edge(207 ,202)
# graph.add_edge(207 ,210)
# graph.add_edge(207 ,219)
# graph.add_edge(212 ,209)
# graph.add_edge(212 ,216)
# graph.add_edge(212 ,206)
# graph.add_edge(212 ,208)
# graph.add_edge(212 ,204)
# graph.add_edge(212 ,214)
# graph.add_edge(212 ,201)
# graph.add_edge(212 ,206)
# graph.add_edge(219 ,202)
# graph.add_edge(219 ,207)
# graph.add_edge(219 ,218)
# graph.add_edge(219 ,202)
# graph.add_edge(219 ,210)
# graph.add_edge(219 ,207)
# graph.add_edge(219 ,208)
# graph.add_edge(219 ,214)
# graph.add_edge(219 ,201)
# graph.add_edge(209 ,215)
# graph.add_edge(209 ,212)
# graph.add_edge(209 ,216)
# graph.add_edge(209 ,206)
# graph.add_edge(209 ,203)
# graph.add_edge(209 ,216)
# graph.add_edge(213 ,220)
# graph.add_edge(213 ,220)
# graph.add_edge(213 ,211)
# graph.add_edge(213 ,205)
# graph.add_edge(213 ,214)
# graph.add_edge(213 ,217)
# graph.add_edge(216 ,212)
# graph.add_edge(216 ,209)
# graph.add_edge(216 ,206)
# graph.add_edge(216 ,220)
# graph.add_edge(216 ,206)
# graph.add_edge(216 ,203)
# graph.add_edge(216 ,209)
# graph.add_edge(205 ,220)
# graph.add_edge(205 ,211)
# graph.add_edge(205 ,213)
# graph.add_edge(205 ,211)
# graph.add_edge(205 ,210)
# graph.add_edge(206 ,212)
# graph.add_edge(206 ,209)
# graph.add_edge(206 ,216)
# graph.add_edge(206 ,220)
# graph.add_edge(206 ,216)
# graph.add_edge(206 ,208)
# graph.add_edge(206 ,204)
# graph.add_edge(206 ,214)
# graph.add_edge(206 ,201)
# graph.add_edge(206 ,212)
# graph.add_edge(208 ,214)
# graph.add_edge(208 ,201)
# graph.add_edge(208 ,219)
# graph.add_edge(208 ,204)
# graph.add_edge(208 ,214)
# graph.add_edge(208 ,201)
# graph.add_edge(208 ,212)
# graph.add_edge(208 ,206)
# graph.add_edge(202 ,207)
# graph.add_edge(202 ,219)
# graph.add_edge(202 ,218)
# graph.add_edge(202 ,218)
# graph.add_edge(202 ,210)
# graph.add_edge(202 ,207)
# graph.add_edge(202 ,219)
# graph.add_edge(214 ,217)
# graph.add_edge(214 ,213)
# graph.add_edge(214 ,208)
# graph.add_edge(214 ,201)
# graph.add_edge(214 ,219)
# graph.add_edge(214 ,208)
# graph.add_edge(214 ,204)
# graph.add_edge(214 ,201)
# graph.add_edge(214 ,212)
# graph.add_edge(214 ,206)
# graph.add_edge(201 ,208)
# graph.add_edge(201 ,214)
# graph.add_edge(201 ,219)
# graph.add_edge(201 ,208)
# graph.add_edge(201 ,204)
# graph.add_edge(201 ,214)
# graph.add_edge(201 ,212)
# graph.add_edge(201 ,206)
# graph.add_edge(215 ,209)
# graph.add_edge(215 ,204)
# graph.add_edge(215 ,211)
# graph.add_edge(215 ,217)
# graph.add_edge(218 ,203)
# graph.add_edge(218 ,202)
# graph.add_edge(218 ,207)
# graph.add_edge(218 ,219)
# graph.add_edge(218 ,202)

